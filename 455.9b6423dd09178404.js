"use strict";(self.webpackChunkApp=self.webpackChunkApp||[]).push([[455],{2455:(Z,h,i)=>{i.r(h),i.d(h,{HeroSelectionPageModule:()=>T});var u=i(4444),d=i(7579),p=i(2722),s=i(2382),e=i(1223),m=i(2881),g=i(7594);const f=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var l=i(9808);function C(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"button",1),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onSelectClick(a)}),e._uU(2),e.ALo(3,"uppercase"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,t)," ")}}function b(n,r){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,C,4,3,"li",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.alphabet)}}let v=(()=>{class n{constructor(){this.letter=new e.vpe,this.selectedLetter="a",this.alphabet=f,this.isOpen=!1}onSelectClick(t){this.selectedLetter=t,this.letter.emit(t),this.isOpen=!this.isOpen}onOpenClick(){this.isOpen=!this.isOpen}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-alphabetic-select"]],outputs:{letter:"letter"},decls:5,vars:4,consts:[[1,"container"],["type","button",1,"btn-letter",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.onOpenClick()}),e._uU(2),e.ALo(3,"uppercase"),e.qZA(),e.YNc(4,b,2,1,"ul",2),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,o.selectedLetter)," "),e.xp6(2),e.Q6J("ngIf",o.isOpen))},directives:[l.O5,l.sg],pipes:[l.gd],styles:[".btn-letter[_ngcontent-%COMP%]{text-align:center;border:3px solid #82589F;width:35px;line-height:30px;border-radius:100%;display:inline-block;vertical-align:top;transition:.5s}.btn-letter[_ngcontent-%COMP%]:hover{background-color:#82589f;border-color:#000;color:#fff}li[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.container[_ngcontent-%COMP%]{height:30vh;margin-right:30px}"]}),n})();function x(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"button",1,2),e.NdJ("click",function(){e.CHM(t);const c=e.MAs(2);return e.oxw().addToSearch(c)}),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t)}}let S=(()=>{class n{constructor(t){this.storeService=t,this.value=new e.vpe}filterSearch(){const o=this.storeService.userState.recentSearch.map(c=>c.trim());return Array.from(new Set(o))}addToSearch(t){this.value.emit(t.innerText)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recent-searches"]],outputs:{value:"value"},decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],["type","button",1,"btn-letter",3,"click"],["btn",""]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"ul"),e.YNc(2,x,4,1,"li",0),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",o.filterSearch()))},directives:[l.sg],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;margin-bottom:1%}button[_ngcontent-%COMP%]{display:inline-block;min-width:20px;font-size:20px;margin:0 0 0 5px;border-radius:3px;transition:.5s}button[_ngcontent-%COMP%]:hover{background-color:#82589f;border-color:#000;color:#fff}"]}),n})();var _=i(4806);function y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-recent-searches",6),e.NdJ("value",function(c){return e.CHM(t),e.oxw().addValueToInput(c)}),e.qZA()}}let O=(()=>{class n{constructor(t,o){this.fetchService=t,this.storeService=o,this.stats=[],this.heroes=[],this.searchInput=new s.NI("",s.kI.pattern("^[a-zA-Z ]*$")),this.unsubscribeOnDestroy$=new d.x}ngOnInit(){this.fetchService.getRandomHero().pipe((0,p.R)(this.unsubscribeOnDestroy$)).subscribe(t=>{this.heroes=[t]})}search(){const t=this.searchInput.value.toString().toLowerCase().trim();if(0===t.length)return alert("NO! NO! NO!"),void this.searchInput.setValue("");1===t.length?this.fetchService.getHeroesByName(t).pipe((0,p.R)(this.unsubscribeOnDestroy$)).subscribe(o=>{this.heroes=o.filter(c=>c.name[0].toLowerCase().includes(t.toLowerCase())),this.storeService.patchUserState(u.PP.RecentSearch,t),this.searchInput.setValue("")}):this.fetchService.getHeroesByName(t).pipe((0,p.R)(this.unsubscribeOnDestroy$)).subscribe(o=>{this.heroes=o.filter(c=>c.name.toLowerCase().includes(t.toLowerCase())),this.storeService.patchUserState(u.PP.RecentSearch,t),this.searchInput.setValue("")})}onLetterSelected(t){this.searchInput.setValue(t),this.search()}addValueToInput(t){this.searchInput.setValue(t),this.search()}ngOnDestroy(){this.unsubscribeOnDestroy$.next(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.r),e.Y36(g.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-hero-selection-page"]],decls:8,vars:3,consts:[[1,"body-page"],[3,"letter"],[1,"container"],["type","text","placeholder","Enter the hero name",3,"formControl","keyup.enter"],[3,"value",4,"ngIf"],[3,"heroes"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"app-alphabetic-select",1),e.NdJ("letter",function(a){return o.onLetterSelected(a)}),e.qZA(),e.TgZ(2,"div",2)(3,"h3"),e._uU(4,"Find Hero"),e.qZA(),e.TgZ(5,"input",3),e.NdJ("keyup.enter",function(){return o.search()}),e.qZA(),e.YNc(6,y,1,0,"app-recent-searches",4),e._UZ(7,"app-hero-list",5),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("formControl",o.searchInput),e.xp6(1),e.Q6J("ngIf",0!==o.storeService.userState.recentSearch.length),e.xp6(1),e.Q6J("heroes",o.heroes))},directives:[v,s.Fj,s.JJ,s.oH,l.O5,S,_.e],styles:[".hero-list[_ngcontent-%COMP%]{width:70vw;height:30vh}.hero-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid black;margin-bottom:10px}input[_ngcontent-%COMP%]{width:70vw;margin:20px 0;height:40px;font-size:20px}button[_ngcontent-%COMP%]{transition-duration:.4s;border:1px solid #0000001f;cursor:pointer;padding:0 15px;margin:5px;box-shadow:2px 2px 2px 2px #888;height:40px;border-radius:15px}button[_ngcontent-%COMP%]:hover{background-color:#a9a9a9}img[_ngcontent-%COMP%]{height:300px;width:200px;margin:10px}.name-avatar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}h3[_ngcontent-%COMP%]{width:100px}.stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:30px}.stats[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.btn-select[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.body-page[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;top:0}"]}),n})();var P=i(7363),A=i(1837),M=i(4466);let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.ez,s.u5,M.m,s.UX,P.Bz.forChild([{path:"",component:O,canActivate:[A.A]}])]]}),n})()}}]);